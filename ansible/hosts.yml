local:
  hosts:

remote:
  vars:
    ansible_user: root
    ansible_python_interpreter: /usr/bin/python3
    postgresql_version: 12
    app_git_version: main
    docker_install: false
    letsencrypt: false

    # Domains
    company_domain: smatflow.com
    domain: www.{{ root_domain }}
    cms_domain: portaladmin.{{ root_domain }}

    # App path
    root_path: "/home/{{ ansible_user }}/{{ domain }}"

    # App
    web_port: 3000
    docs_port: 3100
    cms_port: 8055
    app_env: prod # dev, prod, test
    app_debug: 0 # 0 or 1
    has_docs_app: true # activate docs app

    # Typesense
    typesense_port: 8108
    typesense_getway_port: 443

    # portaladmin account
    portaladmin_email: "portaladmin@{{ company_domain }}"
    appuser_email: "appuser@{{ company_domain }}"

    # Nginx
    client_host: "127.0.0.1:{{ web_port }}"
    docs_host: "127.0.0.1:{{ docs_port }}"
    cms_host: "127.0.0.1:{{ cms_port }}"
    typesense_host: "127.0.0.1:{{ typesense_port }}"
    enable_cms_cors: false

    # Database
    database: portal

    # Cms
    cms_ldap_authentication: true
    app_user_token: mdzjETutYM06z9ch56CmFkjIOWZCwraG
    ldap_client_url: ipa.smatflow.net

    # mailer
    mailer: true
    mailer_host: "mail.smatflow.net"
    mailer_port: 587
    mailer_user: "portaladmin@{{ company_domain }}"
    mailer_from: "{{ mailer_user }}"
    mailer_password: !vault |
      $ANSIBLE_VAULT;1.1;AES256
      63353730636131653464373330313163386239383030363830616433636330626434623638643734
      3961623361366265316339613433383337303663323830630a363364396434366631623931373538
      36333230356635376335653835656636303933326133633364396139353136613864656666663539
      3030343134376332660a376136333961373531656337616463383565623138643763623062643863
      31373938353536646634343363663861653135633961356561666635306333353736636139623431
      3039613464336430626365653861623035363532623561613364

    database_password: !vault |
      $ANSIBLE_VAULT;1.1;AES256
      61356661393930376261663135303165666134366134643038363836323331353237313664653434
      6363636366353737343635666663356138323236393235630a353939316134346263653638656633
      39333364373634393231646564633737666534646463663365313430376436346431383930616433
      3238383765376164310a336236303134633035393639393066383333343133356233373239623831
      32353361333733383839646339306634316537383566666263346630626637386364303938353364
      3462383139346136313135656138656463346564613265336433

    portaladmin_password: !vault |
      $ANSIBLE_VAULT;1.1;AES256
      33306433636464343333303266663662303030626462636565326161623061386363633834623333
      3130616633643764653231363031356135633131343765350a663338373438666661623135653765
      64373534633532646335303662646338316638336338306562393137373734306334613463663064
      3333626334643562640a336161306231383234306162323761346663396532626564656239393963
      62383737343561373637623564366563663736613834646338643066313931626531

    ldap_user_bind_password: !vault |
      $ANSIBLE_VAULT;1.1;AES256
      66303763373530316639343364393134313166396461633661643764656332303861653961643936
      6333373566376165623663656339333939316462373236300a303361643064326265656564653062
      38663838353662393866313961666238353165613464333232633135313630653630333733666535
      3063333933643833610a353939333664383465363834633130633461643765373463633564663963
      66363738663135336564666661383132663831343266303433633330633362353962343239376434
      6139363634366164373131313338383262306434653162633337

    repo_access_token: !vault |
      $ANSIBLE_VAULT;1.1;AES256
      30656333333138626565376163353266343834643230636533306131643065633861663837643139
      3734633562343563633432623961356132623338633332610a366665313563666438336166393735
      30323436663235393562666432326534303136613661663237363962323336653238656636373438
      3838306664346266650a613034383936656463393930313165633434376661356237666463366561
      36633663383731333932656232383339613435653266643032306232316236653037

    app_git_repo: "https://root:{{ repo_access_token }}@hub.smatflow.net/smatflow-projects/smatflow-portal.git"

  hosts:
    testing: # Coding
      ansible_host: portal-xyz.smatflow.smfl
      root_domain: smatflow.xyz
      docker_install: true
      ansible_user: ubuntu
      ldap_client_url: ipa-server.smatflow.smfl

    coding: # staging
      ansible_host: portal-net.smatflow.smfl
      root_domain: smatflow.net
      docker_install: true
      ansible_user: ubuntu
      ldap_client_url: ipa-server.smatflow.smfl

    production:
      ansible_host: portal-com.smatflow.smfl
      root_domain: smatflow.com
      docker_install: true
      ansible_user: ubuntu
      ldap_client_url: ipa-server.smatflow.smfl
